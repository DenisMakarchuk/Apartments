<div *ngIf="errorMessage">
    <div class="alert alert-danger" role="alert">
        {{errorMessage}}
    </div>
</div>

<div *ngIf="spinning"  class="d-flex justify-content-center">
    <div class="spinner-border text-success" role="status">
      <span class="sr-only">Loading...</span>
    </div>
</div>

<div *ngIf="apartment">
    <app-apartment-all-images-names></app-apartment-all-images-names>

    <h2>{{apartment.apartment.title | uppercase}}</h2>
  
    <h4 *ngIf="apartment.apartment.area">Area: {{apartment.apartment.area}}</h4>
    <h4>Rooms: {{apartment.apartment.numberOfRooms}}</h4>
    <h4>Price: {{apartment.apartment.price}} $</h4>

    <h2>Addpess:</h2>
  
    <h4>Country: {{apartment.country.name}}</h4>
    <h4>City: {{apartment.address.city}}</h4>
    <h4>Street: {{apartment.address.street}}</h4>
    <h4 *ngIf="apartment.address.home">Home: {{apartment.address.home}}</h4>
    <h4 *ngIf="apartment.address.numberOfApartment">Apartmewnt â„– {{apartment.address.numberOfApartment}}</h4>

    <h2>About the apartment:</h2>
    <h4>{{apartment.apartment.text}}</h4>
  
    <div *ngIf="orderDto">
        <h4>Dates:</h4>
        <div *ngFor="let date of orderDto.dates">
          <h6>{{date  | date: 'dd MMMM yyyy'}}</h6> 
        </div>
  
        <h4>Total price: {{orderDto.totalCoast}} $</h4>   
    </div>
  
    <div class="btn-group my-2 my-sm-0 btn-lg btn-block" role="group">
        <button *ngIf="canMakeOrder && !orderDto" class="btn btn-success" 
        (click)="formAnOrder()">
        <span *ngIf="spinningOrder" 
        class="spinner-border spinner-border customSpin" 
        role="status" 
        aria-hidden="true"></span>

        Make Order</button>

        <button *ngIf="canMakeOrder && orderDto" class="btn btn-success" 
        (click)="makeOrder()">
        <span *ngIf="spinningOrder" 
        class="spinner-border spinner-border customSpin" 
        role="status" 
        aria-hidden="true"></span>

        Confirm Order</button>
  
        <button class="btn btn-warning" (click)="goBack()">Go back</button>
    </div>

    <div>
        <app-apartment-comments></app-apartment-comments>

        <div class="form-group col">
            <button class="btn btn-dark btn-block"  
            type="button" 
            data-toggle="collapse" 
            data-target="#collapseAddComment" 
            aria-expanded="false" 
            aria-controls="collapseAddComment">New comment</button>
        </div>

        <div class="form-group col">
            <div class="collapse" id="collapseAddComment">
                <app-add-comment></app-add-comment>
            </div> 
        </div>
    </div>
</div>
